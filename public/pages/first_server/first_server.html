<section class="layout-container">
  <div class="layout-basis">
    <!--Functions-->
    <div class="layout">
      <h4 class="header-text">Functions</h4>
      <p class="text">
        A function is a block of reusable code that performs a specific task. They can also be grouped together in a sequence of the statements to aid each other performing an action.  Functions can accept inputs through `parameter or arguments` and process the input or return the processed input as a value.
      </p>
    </div>

    <div class="layout center-layout">
      <h4 class="header-text">Different kind of functions</h4>
      <p class="text">
        Named functions, are defined using the keyword `function` followed by the function name. They are explicitly named and makes them easier to understand and identify, as they are self-descriptive. Besides that, a named function can be defined before they are called, which allow you to use them anywhere within the scope where they are declared (hoisting). 
      </p>
      <pre class="language-javascript snippet-layout snippet-center"><code>
        function getRandomInt(min, max) {
          return Math.floor(Math.random() * (max + 1 - min) + min);
        };
      </code></pre>
    </div>

    <div class="layout margin-top20 center-layout">
      <p class="text">
        Function expressions are defined as part of an expression. Therefore you can assign a function to a variable. The function doesn’t have to have a name, making it anonymous or you can just name it. They are not hoisted as a named function, meaning they cannot be called before they are defined.
      </p>
      <pre class="language-javascript snippet-layout snippet-center"><code>
        const getRandomIntAnonymousFunction = function getRandomInt(min, max) {
          return Math.floor(Math.random() * (max + 1 - min) + min);
        };
      </code></pre>
    </div>

    <div class="layout margin-top20 center-layout">
      <p class="text">
        Arrow functions was introduced with ES6. They are always anonymous and the syntax I shorter in comparison to function expressions, which make them much more simple but the lack of named functions can make the code more challenging to read and debug.
      </p>
      <pre class="language-javascript snippet-layout snippet-center"><code>
        const getRandomIntArrowFunction = (min, max) => {
          return Math.floor(Math.random() * (max + 1 - min) + min);
        };
      </code></pre>
      <pre class="language-javascript snippet-layout snippet-center"><code>
        const getRandomIntArrowFunctionOneLiner = 
        (min, max) => Math.floor(Math.random() * (max + 1 - min) + min);
      </code></pre>
    </div>

    <!--Callbacks-->
    <div class="layout margin-top50 center-layout">
      <h4 class="header-text">Callbacks</h4>
      <p class="text">
        A callback is any reference to an executable code that is passed as an argument. As shown in the code the function `generciActionPerformer` takes in two arguments `name` and `genericAction`.
        The ` name` is a string and the `genericAction` is the variable name for our function `callback` that is passed. The `generciActionPerformer` calls the `genericAction` and passes the `name` to it.  So it calls back to the function `callback` , that print out the value.        
      </p>
      <pre class="language-javascript snippet-layout snippet-center"><code>
        function genericActionPerformer(name, genericAction) {
          return genericAction(name);
        }
        
        function callback(call) {
          console.log(call);
        }
        
        genericActionPerformer("Jesper", callback);
      </code></pre>
      <pre class="language-javascript snippet-layout snippet-center"><code>
        const running = (name) => `${name} is running`;

        const action = genericActionPerformer("Alex", running);
        
        console.log(action);
      </code></pre>
    </div>

    <!--Package.Json -->
    <div class="layout margin-top50 center-layout">
      <h4 class="header-text">What is package.Json file?</h4>
      <p class="text">
        As written earlier in the introduction, you can install multiple packages in your project. One way to keep track of which packages you have installed is the package. Json file. One of the primary functions of the package. Json file is to keep track of the projects dependencies by containing a list of the required dependencies and their versions to run the program. It also stores the metadata about the project such as the name, version, author, GitHub repo etc.        
      </p>
      <pre class="language-javascript snippet-layout snippet-center"><code>
        {
          "name": "nodemandatoryi",
          "version": "1.0.0",
          "description": "",
          "main": "index.js",
          "scripts": {
            "test": "echo \"Error: no test specified\" && exit 1"
          },
          "keywords": [],
          "author": "",
          "license": "ISC",
          "type": "module",
          "dependencies": {
            "express": "^4.18.3",
            "highlight.js": "^11.9.0"
          }
        }
      </code></pre>
    </div>

    <div class="layout center-layout">
      <p class="text">
        You can create package. Json file by adding the file calling it `package.json` or you can use the commands npm init and fill out the metadata information or you can just write npm init-y in your terminal, this will setup the package. Json file immediately. This will set the fields to a default value, and you always change them later.
      </p>
      <img class="image-size600 margin-top20 image-alignmid" src="/assets/images/first_server/packagejsoninit.png" alt="node-version">
    </div>

    <!--Express-->
    <div class="layout margin-top50 center-layout">
      <h4 class="header-text">Express</h4>
      <p class="text">
        Express is a web framework for node.js and is designed for building web applications and APIs. It provides features for handling HTTP request, routing, middleware integration, which boost development by making it more scalable and efficient in less lines of code.     
      </p>
    </div>

    <div class="layout  center-layout">
      <h4 class="header-text">Install express</h4>
      <p class="text">
        If already have a package.Json file setup, navigate to the file. If you don't have it, then follow the above steps on how to add a package. Json file to your project.
        In the package.Json file you can either add the dependency manually or inyour terminal write `npm install express` and you will see the express dependency appear. You can either go with a specific version like “4.17.1” or add `^`, which allows npm to install compatible updates when running `npm install` or `npm update`.
      </p>
      <pre class="language-javascript snippet-layout snippet-center"><code>
        // From the terminal
        
        PS C:\Users\jespe\Desktop\4.Semster\Node\nodeplayground> npm install express

        changed 2 packages, and audited 66 packages in 736ms
        
        12 packages are looking for funding
          run `npm fund` for details
        
        found 0 vulnerabilities
      </code></pre>
    </div>

    <!--Setup Express Server-->
    <div class="layout margin-top50 center-layout">
      <h4 class="header-text">Setup express server & test get-endpoint</h4>
      <p class="text">
        When express have been installed into you project. We will first with setting up the import needed for the express and make an endpoint by following the steps below.
      </p>
      <ul class="list">
        <li>Import express using the commonJs require method.</li>
        <li>Create an instance of express. 'const app = express()'.</li>
        <li>Define an endpoint. Your app instance have the method get(), that takes in two arguments, the path "/" and callback function '(req, res) => {}'. The req (request) are for incoming http requests and res (response) for outoging.</li>
        <li>'res' has a method '.send' that allows us to send back our response when the endpoint is being called.</li>
        <li>We define a port, 'const port = 8181;',to reach the server and make implement it into your server by using the app instance and use the '.listen' method.</li>
      </ul>

      <p class="text">
        When you have done this you can go to your web browser or use web an api software like postman to call and test the get-endpoint by writing the url: localhost:8181/.
      </p>
      <pre class="language-javascript snippet-layout snippet-center"><code>
        const express = require('express');

        const app = express();
        
        app.get("/", (req, res) => {
          res.send({ data: "Success - your endpoint is working!" });
        });
        
        const PORT = 8181;
        app.listen(PORT, () => {
          console.log("Server is running on", PORT);
        });

        // Server is running on 8181
        // Output: { "data" : "Success - your endpoint is working!" }
      </code></pre>
      <img class="image-size600 margin-top20 image-alignmid" src="/assets/images/first_server/expresssetupget.png" alt="node-version">
    </div>

    <div class="layout center-layout margin-top20">
      <p class="text">
        We can also make another get-endpoint that accepts a parameter. In this case its name and when we use this route '/welcome/:name', express will extract the value. 'req.params.name' will retrieve the value passed in the url and we will send it back as json welcome message.
      </p>

      <pre class="language-javascript snippet-layout snippet-center"><code>
        app.get("/welcome/:name", (req, res) => {
          const inputName = req.params.name;
          const message = `Welcome ${inputName}`;
          res.send({ data: message});
        });
        
        // Output: { "data" : "Welcome Jesper Wolff" }
      </code></pre>
      <img class="image-size600 margin-top20 image-alignmid" src="/assets/images/first_server/expresssetupgetparamjson.png" alt="node-version">
    </div>

    <!--Node_modules-->
    <div class="layout margin-top50 center-layout">
      <h4 class="header-text">Node_Modules</h4>
      <p class="text">
        When you install packages to your Node.js project, using the 'npm install package-name', the packages will be downloaded and stored in the node_modules folder.

        The folder contains the external code of libraries, modules and also their dependencies, that your project relies on. As you can see in the picture below, when we installed express the package has its own subfolder with its documentaion, code, configurations etc.
      </p>
      <p class="text">
        The benefit of the node_modules folder is that it allow each project to have its own set of depencies, that is isolated from other projects to avoid conflicts. When you share your project- and package.json file with others, they are not dependend on having the node_modules folder. This is because the package.json file already have the package dependency, you just need to write 'npm install' in your terminal and the node_modules folder will be recreated.
      </p>
      <img class="image-size700 margin-top20 image-alignmid" src="/assets/images/first_server/nodemodules.png" alt="node-version">
    </div>

  </div>
</section>